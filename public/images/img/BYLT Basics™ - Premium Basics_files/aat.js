!function(){var e,t,r={594:function(e,t,r){var n="Expected a function",o=NaN,i="[object Symbol]",a=/^\s+|\s+$/g,s=/^[-+]0x[0-9a-f]+$/i,c=/^0b[01]+$/i,u=/^0o[0-7]+$/i,l=parseInt,d="object"==typeof r.g&&r.g&&r.g.Object===Object&&r.g,f="object"==typeof self&&self&&self.Object===Object&&self,p=d||f||Function("return this")(),m=Object.prototype.toString,g=Math.max,h=Math.min,v=function(){return p.Date.now()};function y(e){var t=typeof e;return!!e&&("object"==t||"function"==t)}function b(e){if("number"==typeof e)return e;if(function(e){return"symbol"==typeof e||function(e){return!!e&&"object"==typeof e}(e)&&m.call(e)==i}(e))return o;if(y(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=y(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=e.replace(a,"");var r=c.test(e);return r||u.test(e)?l(e.slice(2),r?2:8):s.test(e)?o:+e}e.exports=function(e,t,r){var o,i,a,s,c,u,l=0,d=!1,f=!1,p=!0;if("function"!=typeof e)throw new TypeError(n);function m(t){var r=o,n=i;return o=i=void 0,l=t,s=e.apply(n,r)}function w(e){var r=e-u;return void 0===u||r>=t||r<0||f&&e-l>=a}function _(){var e=v();if(w(e))return C(e);c=setTimeout(_,function(e){var r=t-(e-u);return f?h(r,a-(e-l)):r}(e))}function C(e){return c=void 0,p&&o?m(e):(o=i=void 0,s)}function O(){var e=v(),r=w(e);if(o=arguments,i=this,u=e,r){if(void 0===c)return function(e){return l=e,c=setTimeout(_,t),d?m(e):s}(u);if(f)return c=setTimeout(_,t),m(u)}return void 0===c&&(c=setTimeout(_,t)),s}return t=b(t)||0,y(r)&&(d=!!r.leading,a=(f="maxWait"in r)?g(b(r.maxWait)||0,t):a,p="trailing"in r?!!r.trailing:p),O.cancel=function(){void 0!==c&&clearTimeout(c),l=0,o=u=i=c=void 0},O.flush=function(){return void 0===c?s:C(v())},O}}},n={};function o(e){var t=n[e];if(void 0!==t)return t.exports;var i=n[e]={exports:{}};return r[e](i,i.exports,o),i.exports}o.m=r,o.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return o.d(t,{a:t}),t},o.d=function(e,t){for(var r in t)o.o(t,r)&&!o.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},o.f={},o.e=function(e){return Promise.all(Object.keys(o.f).reduce((function(t,r){return o.f[r](e,t),t}),[]))},o.u=function(e){return"fingerprint.js"},o.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),o.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},e={},t="elevar-gtm-suite-scripts:",o.l=function(r,n,i,a){if(e[r])e[r].push(n);else{var s,c;if(void 0!==i)for(var u=document.getElementsByTagName("script"),l=0;l<u.length;l++){var d=u[l];if(d.getAttribute("src")==r||d.getAttribute("data-webpack")==t+i){s=d;break}}s||(c=!0,(s=document.createElement("script")).charset="utf-8",s.timeout=120,o.nc&&s.setAttribute("nonce",o.nc),s.setAttribute("data-webpack",t+i),s.src=r),e[r]=[n];var f=function(t,n){s.onerror=s.onload=null,clearTimeout(p);var o=e[r];if(delete e[r],s.parentNode&&s.parentNode.removeChild(s),o&&o.forEach((function(e){return e(n)})),t)return t(n)},p=setTimeout(f.bind(null,void 0,{type:"timeout",target:s}),12e4);s.onerror=f.bind(null,s.onerror),s.onload=f.bind(null,s.onload),c&&document.head.appendChild(s)}},o.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},function(){var e;o.g.importScripts&&(e=o.g.location+"");var t=o.g.document;if(!e&&t&&(t.currentScript&&(e=t.currentScript.src),!e)){var r=t.getElementsByTagName("script");r.length&&(e=r[r.length-1].src)}if(!e)throw new Error("Automatic publicPath is not supported in this browser");e=e.replace(/#.*$/,"").replace(/\?.*$/,"").replace(/\/[^\/]+$/,"/"),o.p=e}(),function(){var e={358:0};o.f.j=function(t,r){var n=o.o(e,t)?e[t]:void 0;if(0!==n)if(n)r.push(n[2]);else{var i=new Promise((function(r,o){n=e[t]=[r,o]}));r.push(n[2]=i);var a=o.p+o.u(t),s=new Error;o.l(a,(function(r){if(o.o(e,t)&&(0!==(n=e[t])&&(e[t]=void 0),n)){var i=r&&("load"===r.type?"missing":r.type),a=r&&r.target&&r.target.src;s.message="Loading chunk "+t+" failed.\n("+i+": "+a+")",s.name="ChunkLoadError",s.type=i,s.request=a,n[1](s)}}),"chunk-"+t,t)}};var t=function(t,r){var n,i,a=r[0],s=r[1],c=r[2],u=0;if(a.some((function(t){return 0!==e[t]}))){for(n in s)o.o(s,n)&&(o.m[n]=s[n]);if(c)c(o)}for(t&&t(r);u<a.length;u++)i=a[u],o.o(e,i)&&e[i]&&e[i][0](),e[i]=0},r=self.webpackChunkelevar_gtm_suite_scripts=self.webpackChunkelevar_gtm_suite_scripts||[];r.forEach(t.bind(null,0)),r.push=t.bind(null,r.push.bind(r))}(),function(){"use strict";if(document.currentScript instanceof HTMLScriptElement){const e=document.currentScript.src,t=new URL(e),r=t.origin,n=t.pathname.split("/").slice(0,-1).join("/").concat("/");o.p=`${r}${n}`}const e=e=>{console.error("Elevar Data Layer:",e)},t=t=>async(...r)=>{try{await t(...r)}catch(t){e(t)}};function r(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)e[n]=r[n]}return e}var n=function e(t,n){function o(e,o,i){if("undefined"!=typeof document){"number"==typeof(i=r({},n,i)).expires&&(i.expires=new Date(Date.now()+864e5*i.expires)),i.expires&&(i.expires=i.expires.toUTCString()),e=encodeURIComponent(e).replace(/%(2[346B]|5E|60|7C)/g,decodeURIComponent).replace(/[()]/g,escape);var a="";for(var s in i)i[s]&&(a+="; "+s,!0!==i[s]&&(a+="="+i[s].split(";")[0]));return document.cookie=e+"="+t.write(o,e)+a}}return Object.create({set:o,get:function(e){if("undefined"!=typeof document&&(!arguments.length||e)){for(var r=document.cookie?document.cookie.split("; "):[],n={},o=0;o<r.length;o++){var i=r[o].split("="),a=i.slice(1).join("=");try{var s=decodeURIComponent(i[0]);if(n[s]=t.read(a,s),e===s)break}catch(e){}}return e?n[e]:n}},remove:function(e,t){o(e,"",r({},t,{expires:-1}))},withAttributes:function(t){return e(this.converter,r({},this.attributes,t))},withConverter:function(t){return e(r({},this.converter,t),this.attributes)}},{attributes:{value:Object.freeze(n)},converter:{value:Object.freeze(t)}})}({read:function(e){return'"'===e[0]&&(e=e.slice(1,-1)),e.replace(/(%[\dA-F]{2})+/gi,decodeURIComponent)},write:function(e){return encodeURIComponent(e).replace(/%(2[346BF]|3[AC-F]|40|5[BDE]|60|7[BCD])/g,decodeURIComponent)}},{path:"/"}),i=n;const a="___ELEVAR_GTM_SUITE--",s={userId:`${a}userId`,sessionId:`${a}sessionId`,sessionCount:`${a}sessionCount`,lastCollectionPathname:`${a}lastCollectionPathname`,lastDlPushTimestamp:`${a}lastDlPushTimestamp`,userOnSignupPath:`${a}userOnSignupPath`,userLoggedIn:`${a}userLoggedIn`,cart:`${a}cart`,cookies:`${a}cookies`,params:`${a}params`,debug:`${a}debug`,checkoutInfo:`${a}checkoutInfo`},c=e=>{try{switch(e.action){case"GET":return localStorage.getItem(s[e.key]);case"SET":return localStorage.setItem(s[e.key],e.value);case"REMOVE":return localStorage.removeItem(s[e.key])}}catch(e){throw console.error("Elevar Data Layer: There was a problem accessing `localStorage`, and we need this access for our data layer to function. This is likely because you are in private/incognito mode, as this usually prevents `localStorage` access."),e}},u=e=>c({action:"GET",key:e}),l=(e,t)=>c({action:"SET",key:e,value:t}),d=()=>{const e=u("sessionCount");return null===e?(f("1"),"1"):e},f=e=>{try{l("sessionCount",e)}catch{return}},p=()=>String(Math.floor(Date.now()/1e3)),m=e=>{try{l("lastDlPushTimestamp",e)}catch{return}},g=()=>{const e=u("sessionId");if(null===e){const e=p();return h(e),e}if(t=(()=>{const e=u("lastDlPushTimestamp");if(null===e){const e=p();return m(e),e}return e})(),Number(t)+1800<=Math.floor(Date.now()/1e3)){const e=p();return h(e),f(String(Number(d())+1)),e}return e;var t},h=e=>{try{l("sessionId",e)}catch{return}};let v;const y=async()=>{const e=i.get("_shopify_y");if(e)return w(e),e;{if(!v){const e=await o.e(22).then(o.bind(o,9589));v=e.getFingerprint}const e=await v();return w(e),e}},b=async()=>{const e=u("userId");if(null!==e)return e;if("function"==typeof window.ElevarUserIdFn)try{const e=await window.ElevarUserIdFn();return"string"==typeof e?(w(e),e):(console.error("Elevar Data Layer: `window.ElevarUserIdFn` returned a value that wasn't a string, so we've treated things as if this function wasn't defined."),y())}catch(e){return console.error("Elevar Data Layer: `window.ElevarUserIdFn` threw an error, so we've treated things as if this function wasn't defined. The exact error is shown below."),console.error(e),y()}return y()},w=e=>{try{l("userId",e)}catch{return}},_=()=>{const e=u("cookies");return null!==(t=e)?JSON.parse(t):{};var t},C=e=>{var t;l("cookies",(t=e,JSON.stringify(t)))},O=()=>{const e=u("params");return null!==(t=e)?JSON.parse(t):{};var t},E=e=>{var t;l("params",(t=e,JSON.stringify(t)))};var S=o(594),j=o.n(S);const k=`${a}apexDomain`,P=[["userId",null],["sessionId",null],["sessionCount",null],["lastCollectionPathname",null],["lastDlPushTimestamp",null],["userOnSignupPath",null],["userLoggedIn",null],["cookies",null],["params",null],["debug",null]],T=async({getCookie:e,setLocalStorage:t})=>{const r=await(async({getCookie:e})=>{const t=await e(k);if(!t)return P;try{const e=JSON.parse(t);return Array.isArray(e)?P.map((([t])=>{const r=e.find((e=>Array.isArray(e)&&t===e[0]&&("string"==typeof e[1]||null===e[1])))??null;return[t,r?r[1]:null]})):P}catch{return P}})({getCookie:e});await Promise.all(r.map((([e,r])=>null!==r?t(e,r):Promise.resolve())))},x="_elevar_",D="_elevar_visitor_info",I="_ga_",$="gclid",L="smadid",A="gclid_persistent",N="referrer",R="smadid_ts",F=e=>null!==e,U=(e,t)=>e.includes(t),J=e=>e.split(".").slice(0,4).join("."),M=e=>Object.fromEntries(Object.entries(e).map((([e,t])=>{const r=e.includes(I)&&t&&t.split(".").length>=4;return[e,r?J(t):t]}))),B=["_fbc","_fbp","_ga","_gaexp","_gid","__utma","crto_is_user_optout","crto_mapped_user_id","ttclid","_scid"],q=async({getFreshCookies:e,getPersistedCookies:t,setPersistedCookies:r,cartAttributes:n})=>{const o=M(await e()),i=(e=>{const t=Object.keys(e).filter((e=>e.includes(I)));return[...B,...t]})(o),a=M(await t()),s=n?M(((e,t)=>Object.fromEntries(Object.entries(t).filter((([t])=>e.includes(t.replace(x,"")))).map((([e,t])=>[e.replace(x,""),t]))))(i,n)):{},c=i.map((e=>{const t=o[e],r=a[e],n=s[e];return t!==r&&void 0!==t?[e,t]:r!==n&&void 0!==r?[e,r]:null})).filter(F);return await r({...a,...Object.fromEntries(c)}),Object.fromEntries(c.map((([e,t])=>[`${x}${e}`,t])))},G=["utm_source","utm_medium","utm_campaign","utm_content","utm_term",$],z=["gclsrc","fbclid","ttclid","irclickid","sscid","ScCid","vlmcid","dicbo","gadid","fbadid","ttadid","scadid","padid",L],W=[A,N,"user_id","session_id","session_count","consent",R],H=[...G,...z,...W],V=e=>{const t=new URLSearchParams(e),r=$,n=t.get(r),o=[...G,...z].filter((e=>t.has(e))).map((e=>[e,t.get(e)])).concat(n?[[A,n]]:[]);return Object.fromEntries(o)},K=({stale:e,updated:t})=>{const r=e.filter((([e])=>U(G,e))),n=Object.fromEntries(r),o=t.some((([e])=>U(G,e))),i=t.some((([e,t])=>e===N&&n[e]!==t));return Object.fromEntries(o?[...e.filter((([e])=>!U(G,e))),...t].filter((([e])=>e!==N)):i?[...e,...t].filter((([e])=>!U(G,e))):[...e,...t])},Q=async({getPersistedParams:e,setPersistedParams:t,search:r,cartAttributes:n,additionalFreshProperties:o={}})=>{const i=K({stale:Object.entries(await e()),updated:Object.entries({...V(r),...o})}),a=n?(e=>{const t=Object.entries(e),r=D,n=t.find((([e])=>e===r));if(!n)return{};try{const e=n[1].replaceAll("&quot;",'"');return JSON.parse(e)}catch{return{}}})(n):{},s=([e])=>U(H,e),c=K({stale:Object.entries(a).filter(s),updated:Object.entries(i).filter(s)}),u=(({stale:e,fresh:t,newFiltered:r})=>{const n=L in r&&e[L]!==t[L];return{...r,...n?{[R]:Math.floor(Date.now()/1e3)}:R in e?{[R]:e[R]}:{}}})({stale:a,fresh:i,newFiltered:c});await t(u);return Object.entries(u).some((([e,t])=>{return r=t,n=a[e]??null,!(JSON.stringify(r)===JSON.stringify(n));var r,n}))?{[D]:JSON.stringify(u)}:{}},X=e=>(async({setCookie:e,getLocalStorage:t,domain:r})=>{null!==r&&await e(k,JSON.stringify(P.map((([e])=>[e,t(e)]))),{domain:r,expires:365,secure:!0,sameSite:"strict"})})({domain:e,getLocalStorage:e=>u(e),setCookie:(e,t,r)=>{i.set(e,t,r)}}),Y=()=>{if(""!==document.referrer){const e=new URL(document.referrer);return e.hostname===location.hostname||e.hostname.includes("myshopify.com")?{}:{referrer:document.referrer}}return{}},Z=e=>{if(!e)return null;const t=async e=>{const r=window.google_tag_data?.ics?.entries;return void 0!==r&&Object.keys(r).length>0?r:e>10?null:(await(n=2**e*10,new Promise((e=>setTimeout(e,n)))),t(e+1));var n};return t(1)};let ee=!0;const te=async({apexDomain:e,isConsentEnabled:t,onRevalidateComplete:r,cartAttributes:n=null,onNewCartAttributes:o})=>{const a=async t=>{await T({setLocalStorage:(e,t)=>l(e,t),getCookie:e=>i.get(e)??null});const a={cartAttributes:n,rawConsentData:t},s=await(({cartAttributes:e})=>q({getFreshCookies:()=>i.get(),getPersistedCookies:_,setPersistedCookies:C,cartAttributes:e}))(a),c=await(async({cartAttributes:e,rawConsentData:t})=>{return Q({getPersistedParams:O,setPersistedParams:E,search:window.location.search,cartAttributes:e,additionalFreshProperties:{...Y(),user_id:await b(),session_id:g(),session_count:d(),...t?(r=t,{consent:Object.fromEntries(Object.entries(r).map((([e,t])=>[e,t.update??t.initial])))}):{}}});var r})(a);await X(e),r?.(),(Object.entries(s).length>0||Object.entries(c).length>0)&&o?.({...s,...c})},s=await Z(t);if(await a(s),s&&ee){ee=!1;const e=j()((()=>a(s)),200);Object.keys(s).forEach((t=>{s[t]=new Proxy(s[t],{set(t,r,n,o){return"update"===r&&e(),Reflect.set(t,r,n,o)}})}))}},re=async e=>{window.ElevarPushToDataLayer(await(async e=>{if(e.shouldRevalidate){const e=document.querySelector("#elevar-dl-aat-config")??document.querySelector("#elevar-gtm-suite-config");if(!e)throw new Error("Elevar Context: Config element not found");const t=JSON.parse(e.textContent??"{}");await te({apexDomain:t.apex_domain,isConsentEnabled:t.consent_enabled})}return{user_properties:{user_id:await b(),session_id:g(),session_count:d()},device:{screen_resolution:`${window.screen.width}x${window.screen.height}`,viewport_size:`${document.body.clientWidth}x${document.body.clientHeight}`,encoding:document.characterSet,language:navigator.language,colors:`${screen.colorDepth}-bit`},page:{title:document.title},marketing:{..._(),...O()},_elevar_internal:{isElevarContextPush:!0}}})(e))},ne={handlers:{register:async({apexDomain:e,isConsentEnabled:t})=>te({apexDomain:e,isConsentEnabled:t,onRevalidateComplete:()=>{re({shouldRevalidate:!1})}})},utils:{pushToDataLayer:window.ElevarPushToDataLayer,pushContextToDataLayer:()=>re({shouldRevalidate:!0})}},oe={handlers:{register:t(ne.handlers.register)},utils:{pushToDataLayer:(ie=ne.utils.pushToDataLayer,(...t)=>{try{ie(...t)}catch(t){e(t)}}),pushContextToDataLayer:t(ne.utils.pushContextToDataLayer)}};var ie;window.ElevarGtmSuiteAAT=oe}()}();