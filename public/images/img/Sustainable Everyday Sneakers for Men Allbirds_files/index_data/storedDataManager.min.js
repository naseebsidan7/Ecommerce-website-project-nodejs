function storageAvailable(e){var a,o;try{return a=window[e],o="__storage_test__",a.setItem(o,o),a.removeItem(o),!0}catch(e){return e instanceof DOMException&&(22===e.code||1014===e.code||"QuotaExceededError"===e.name||"NS_ERROR_DOM_QUOTA_REACHED"===e.name)&&0!==a.length}}function setCookie(e,a,o){Cookies.set(e,a,o)}function setLocalStorage(e,a){localStorageEnabled&&localStorage.setItem(e,a)}function getCookie(e){return Cookies.get(e)||null}function getLocalStorage(e){return localStorageEnabled?localStorage.getItem(e):null}function clearCookie(e){Cookies.remove(e)}function clearLocalStorage(e){localStorageEnabled&&localStorage.removeItem(e)}function checkStorageThenCookie(e){return getLocalStorage(e)||getCookie(e)}var localStorageEnabled=!1;storageAvailable("localStorage")&&(localStorageEnabled=!0),postRobot.on("setData",function(e){var a=e.data.daysToExpire||3650,o=e.data.domain||".shoprunner.com";if(e.data.name&&e.data.value)return setCookie(e.data.name,e.data.value,{expires:a,domain:o}),setLocalStorage(e.data.name,e.data.value),{value:checkStorageThenCookie(e.data.name)};throw new Error("name and value are required in all setCookie calls")}),postRobot.on("getData",function(e){if(e.data.name)return e.data.cookieOnly?{value:getCookie(e.data.name)}:{value:checkStorageThenCookie(e.data.name)};throw new Error("name is required in all getCookie calls")}),postRobot.on("clearData",function(e){if(e.data.name)return clearCookie(e.data.name),clearLocalStorage(e.data.name),{value:checkStorageThenCookie(e.data.name)};throw new Error("name is required in all clearCookie calls")});